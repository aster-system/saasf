<!DOCTYPE html>
<html lang="fr">
    <head>
        <link href="../../styles/base.css" rel="stylesheet" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>SAASF - Hub</title>

        <!--Connect to google font-->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <!--Get the Hammersmith One font, see https://fonts.google.com/specimen/Hammersmith+One for more informations-->
        <link href="https://fonts.googleapis.com/css2?family=Hammersmith+One&display=swap" rel="stylesheet">
        <!--Get the OpenSans font, see https://fonts.google.com/specimen/Open+Sans for more informations-->
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
    </head>
    <body class="open-sans-bold">
        <header class="hammersmith-one-regular">
            <img alt="Logo de SAASF" src="../../images/logo.png"/>
            <nav>
                <div>
                    <a>
                        Lycée
                        <img alt="Défiler" src="../../images/arrow.png" style="transform: rotate(90deg);height: 0.6em;">
                    </a>
                </div>
                <div>
                    <a>
                        Aster Système Learn
                        <img alt="Défiler" src="../../images/arrow.png" style="transform: rotate(90deg);height: 0.6em;">
                    </a>
                </div>
            </nav>
        </header>
        <div id="main_div">
            <h1>
                4. Les fonctions
            </h1>
            <div>
                Pour l'instant, sur les trois paradigmes que nous avons présenté au premier cours de C++, seulement un a été étudié : la généricité.
                Bien que nous ne l'avons pas entièrement étudié, il reste le seul que nous avons commencé à voir.
                Aujourd'hui, nous allons commencer à voir un autre paradigme : la procéduralité.
                Ce concept repose sur un autre, très important en informatique : le concept de fonctions.
            </div>
            <div class="left_arrow_right_text">
                <div class="left_arrow_right_text_child">
                    <img alt="Contenu" class="arrow left_arrow_right_text_arrow" src="../../images/arrow.png">
                    <h2 class="left_arrow_right_text_title" id="part_A">
                        A. Découper son programme
                    </h2>
                    <div class="left_arrow_right_text left_arrow_right_text_text">
                        Pour commencer, nous allons voir comment pouvons nous découper notre programme, et dans quel sens du terme nous allons le faire.
                        <h3 id="part_A_a">
                            a. Où sont situées les instructions ?
                        </h3>
                        <div>
                            <p id="part_A_a_1">
                                Pour la première fois depuis le début de ce cours, <u>nous allons regarder un code assembleur complet</u>.
                                Cependant, nous n'allons pas voir un code utilisant des boucles, conditions...
                                Nous allons regarder un code très simple : le premier code que nous avons vu, simplifié :
                                <div class="code_sample">
                                    #include &lt;iostream&gt;</br></br>
                                    using namespace std;</br></br>
                                    int main() {</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int i = 0;</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return 0;</br>
                                    }
                                </div>
                                Si nous mettons ce code dans un convertisseur assembleur (avec <a href="https://godbolt.org/">Compiler Explorer</a>), nous obtenons :
                                <div class="code_sample">
                                    main:</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push&nbsp;&nbsp;&nbsp;&nbsp;rbp</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mov&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rbp, rsp</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mov&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DWORD PTR [rbp-4], 0</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mov&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eax, 0</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pop&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rbp</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ret</br>
                                </div>
                                Nous n'allons pas essayer de tout comprendre, mais seulement une petit chose.
                                En effet, <u>toutes ces instructions sont écrites avec un système d'indentation</u>.
                                Pourquoi ?
                                Ici, <u>le mot non-indenté est "main", qui regroupe toutes les instructions suivantes</u>.
                                <span class="important">Ce "main" est une fonction.
                                Une fonction représente un ensemble d'instructions, qui ici (pour "main"), sont toutes celles qui sont indentées</span>.
                                Comme vous pouvez l'avoir remarqué, <u>il s'agit du "main" écrit dans le programme C++</u>.
                                <span class="important">Une instruction (C++ ou assembleur) ne peut pas se retrouver en dehors d'une fonction</span>.
                            </p>
                            <p id="part_A_a_2">
                                Pour des raisons de santé mentale, je ne vais pas vous arroser d'assembleur pour continuer à vous expliquer les fonctions.
                                <span class="important">Je vais donc vous montrer comment utiliser une fonction en pseudo-code</span>.
                                Voici une façon de faire :
                                <div class="code_sample">
                                    fonction main():</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;afficher "Hello world !"</br>
                                </div>
                                On peut, si l'on veut, rajouter un "FIN FONCTION", de la même façon que l'on pouvait rajouter un "FIN SI" dans le dernier cours.
                                Cependant, comme expliqué au dernier cours, je ne ferai pas comme ça.
                                <u>De plus, nous perfectionnerons cette façon d'écrire dans la suite du cours</u>.
                                Nous verrons à quoi servent les parenthèses plus tard.
                            </p>
                            <p id="part_A_a_3">
                                Une chose, très importante, qu'il faut comprendre avec les fonctions, est comment les utiliser.
                                En effet, <u>les fonctions ne peuvent pas s'exécuter toutes seules</u>.
                                En effet, <span class="important">ce que nous avons vu plus tôt (en assembleur et en pseudo-code) ne sont que les définitions des fonctions "main", mais pas leur utilisation</span>.
                                <span class="important">Pour les utiliser, et donc exécuter les instructions dans la définition, il faut utiliser une instruction nommée "un appel de fonction"</span>.
                                On dit qu'on appelle une fonction.
                                En assembleur, un appel de fonction se fait comme ça :
                                <div class="code_sample">
                                    call&nbsp;&nbsp;&nbsp;&nbsp;foo()
                                </div>
                                À noter que "foo" est un nom souvent utilisé pour désigner une fonction.
                                En pseudo-code, c'est assez similaire :
                                <div class="code_sample">
                                    foo()
                                </div>
                                Il y a une exception : <u>la fonction "main" est appelée automatiquement par le système d'exploitation à l'exécution du programme</u>.
                                Maintenant, nous pouvons définir est appeler des fonctions en pseudo-code.
                            </p>
                        </div>
                        <h3 id="part_A_b">
                            b. Les paramètres de fonctions
                        </h3>
                        <div>
                            <p id="part_A_b_1">
                                Quand on dit le mot fonction, on peut penser aux <a href="https://fr.wikipedia.org/wiki/Fonction_(math%C3%A9matiques)">fonctions mathématiques</a>.
                                Cependant, <u>une fonction mathématique nécessite une donnée, souvent "x", pour générer un résultat</u>.
                                En informatique, on peut le faire aussi, <u>et passer des données à une fonction pour que son comportement dépende des données</u>.
                                <span class="important">Ces données passées à la fonction sont appelées des "paramètres de fonction"</span>.
                                <span class="important">Il s'agit de variables (ou de constantes)</span>, exactement comme on les a vu dans le cours des variables.
                                <u>Elles doivent être ajoutées entre les parenthèses, après le nom de la fonction</u>.
                                Voici un exemple d'utilisation d'une fonction avec des paramètres :
                                <div class="code_sample">
                                    fonction afficher_addition(nombre nombre_1, nombre nombre_2):</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;afficher nombre_1 + nombre_2</br></br>
                                    fonction main():</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;afficher_addition(254, 65)</br>
                                </div>
                                C'est à ça que servent les parenthèses.
                            </p>
                            <p id="part_A_b_2">
                                Cependant, dans certains cas, une valeur de paramètre peut être tellement redondante que devoir la mettre à chaque appel de la fonction peut être ennuyant.
                                <u>Heuresement, vous pouvez spécifier une valeur par défaut à un paramètre</u>.
                                <span class="important">Une valeur par défaut d'un paramètre est utilisé si le paramètre n'a pas de valeur lors de l'appel de la fonction</span>.
                                Pour cela, il suffit simple de rajouter "= valeur" après la déclaration entre parenthèse, comme ça :
                                <div class="code_sample">
                                    // La valeur par défaut de "exposant" sera de 2</br>
                                    fonction effectuer_racine(nombre nombre, nombre exposant = 2):</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;retourner racine exposant de nombre</br></br>
                                    fonction main():</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;afficher(effectuer_racine(9)) // Exposant sera la valeur par défaut (2)</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;afficher(effectuer_racine(27, 3)) // Exposant sera la valeur entre parenthèse (3)</br>
                                </div>
                                Cependant, <span class="important">les paramètres prenant des valeurs par défaut doivent obligatoirement se trouver après ceux n'en prenant pas</span>.
                                De plus, si vous mettez plusieurs paramètres avec des valeurs par défaut dans une même fonction, il vous faut spécier les valeurs de tous les paramètres AVANT le dernier paramètre par défaut auquel vous attribué une valeur (si vous en attribuez une à un quelconque paramètre par défaut, sinon ce n'est pas nécessaire).
                            </p>
                            <p id="part_A_b_3">
                                La façon dont on passe les variables a des conséquences sur la façon dont elles seront utilisées dans la fonction.
                                En effet, <span class="important">si on passe une variable comme dans l'exemple au-dessus, le contenu de la variable passée est copié dans le paramètre</span>.
                                Donc, <u>la modification du paramètre n'influe pas la variable passée</u>.
                                Par contre, <span class="important">si le paramètre est une référence à la variable passée, alors la valeur de la variable passée change en même que temps celle du paramètre</span>, puisque c'est une référence.
                                Voici un exemple :
                                <div class="code_sample">
                                    fonction effectuer_addition(reference nombre nombre_1, nombre nombre_2):</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mettre nombre_1 à nombre_1 + nombre_2</br></br>
                                    fonction main():</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mettre nombre_passe à 15</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;effectuer_addition(nombre_passe, 65)</br>
                                </div>
                                Ici, la valeur de nombre_passe dans "main" augmentera de 65.
                            </p>
                        </div>
                        <h3 id="part_A_c">
                            c. Obtenir une valeur d'une fonction
                        </h3>
                        <div>
                            <p id="part_A_c_1">
                                Si une fonction peut recevoir des données, <u>elle peut aussi en produire, et permettre de l'utiliser dans une autre fonction</u>.
                                <span class="important">Pour les fonctions, les données produites sont appelées les retours de fonction, et l'obstention de ces données est appelé un retour</span>.
                                <span class="important">Cette valeur peut être utilisé via un simple appel à la fonction (elle est, bien évidement, utilisée là où la fonction est appelée), comme n'importe quelle variable classique</span>.
                                Bien que la fonction puisse retourner de plein de façons possibles, <u>on va garder une démarche proche du C++ pour procéder</u>.
                                Comme le C++ utilise un typage statique, <span class="important">nous allons dire qu'un seul type peut être renvoyé par la fonction</span>.
                                Dans notre pseudo-code, nous allons remplacer le mot "fonction" par le nom de ce type, par exemple :
                                <div class="code_sample">
                                    nombre effectuer_addition(nombre nombre_1, nombre nombre_2):</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;retourner nombre_1 + nombre_2</br></br>
                                    nombre main():</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mettre nombre_passe à effectuer_addition(147, 65)</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;afficher nombre_passe</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;retourner 0
                                </div>
                                <span class="important">La valeur après l'instruction "retourner" est la valeur retournée par la fonction</span>.
                                D'ailleurs, la fonction "main" est de type "nombre" et retourne 0, et nous verrons pourquoi après.
                            </p>
                        </div>
                    </div>
                </div>
                <div class="left_arrow_right_text_child">
                    <img alt="Contenu" class="arrow left_arrow_right_text_arrow" src="../../images/arrow.png">
                    <h2 class="left_arrow_right_text_title" id="part_B">
                        B. Les fonctions en C++
                    </h2>
                    <div class="left_arrow_right_text left_arrow_right_text_text">
                        Il est temps d'appliquer tout ce que nous avons vu au C++.
                        Effectivement, le C++ sans fonction, c'est comme un ordinateur sans carte mère : inutile.
                        <h3 id="part_B_a">
                            a. Définir une fonction
                        </h3>
                        <div>
                            <p id="part_B_a_1">
                                La base de tout cela est, bien évidemment, de définir une fonction.
                                J'ai choisi une syntaxe pseudo-code assez proche de ce que propose le C++.
                                En effet, <span class="important">en C++, une fonction se définit comme ça :</span>
                                <div class="code_sample">
                                    #include &lt;iostream&gt;</br></br>
                                    using namespace std;</br></br>
                                    type_de_renvoi nom(type_parametre parametre) {</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instructions;</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return variable;</br>
                                    }
                                </div>
                                Par exemple, pour notre exemple effectuer_addition :
                                <div class="code_sample">
                                    #include &lt;iostream&gt;</br></br>
                                    using namespace std;</br></br>
                                    // Fonction "effectuer_addition" renvoyant un "int", et prenant 2 "int" en paramètre</br>
                                    int effectuer_addition(int nombre_1, int nombre_2) {</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return nombre_1 + nombre_2;</br>
                                    }</br></br>
                                    int main() {</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::cout &lt;&lt; effectuer_addition(154, 789) &lt;&lt; std::endl; // Affiche 943</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return 0;</br>
                                    }
                                </div>
                            </p>
                            <p id="part_B_a_2">
                                <span class="important">La valeur retournée sera la valeur situé après "return"</span>.
                                Dés que la valeur est retournée, <u>la fonction s'arrête</u>.
                                Cependant, <span class="important">une fonction peut avoir plusieurs "return" dans sa définition</span>.
                                Dans ce cas là, il est conseillé d'utiliser une condition, comme ça :
                                <div class="code_sample">
                                    #include &lt;iostream&gt;</br></br>
                                    using namespace std;</br></br>
                                    // Fonction "effectuer_division" renvoyant un "int", et prenant 2 "int" en paramètre</br>
                                    int effectuer_division(int dividende, int diviseur) {</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(diviseur == 0) {</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return 0;</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// N'arrivera pas si diviseur == 0</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return dividende / diviseur;</br>
                                    }</br></br>
                                    int main() {</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::cout &lt;&lt; effectuer_division(154, 0) &lt;&lt; std::endl; // Affiche 0</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return 0;</br>
                                    }
                                </div>
                                On peut aussi l'utiliser sans condition, mais il faut faire attention à bien savoir ce que l'on fait, pour éviter les comportements imprévus.
                            </p>
                            <p id="part_B_a_3">
                                Pour attribuer des valeurs par défaut aux paramètres <span class="important">la syntaxe est la même qu'en pseudo-code</span>.
                                Voici un très simple exemple :
                                <div class="code_sample">
                                    #include &lt;iostream&gt;</br></br>
                                    using namespace std;</br></br>
                                    // Fonction "indicatif_telephone" renvoyant un "int", et prenant 1 "string" en paramètre, de valeur par défaut "France"</br>
                                    int indicatif_telephone(string pays = "France") {</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(pays == "France") {</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return 33;</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else if(pays == "Russie") {</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return 7;</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else if(pays == "Turquie") {</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return 90;</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return 0;</br>
                                    }</br></br>
                                    int main() {</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::cout &lt;&lt; indicatif_telephone() &lt;&lt; std::endl; // Affiche 33</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::cout &lt;&lt; indicatif_telephone("Russie") &lt;&lt; std::endl; // Affiche 7</br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return 0;</br>
                                    }
                                </div>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <footer>
            <h1>Plus d'informations</h1>
            <div class="open-sans-regular">
                SAASF est proposé par l'organisation <a href="https://aster-system.github.io/aster-system/" target="_blank">Aster Système</a>.</br>
                Le site web est disponible sur Github, <a href="https://github.com/aster-system/aster-school" target="_blank">dans ce repositorie</a>.</br>
                <span xmlns:cc="http://creativecommons.org/ns#" xmlns:dct="http://purl.org/dc/terms/">
                    <a property="dct:title" rel="cc:attributionURL" href="https://aster-system.github.io/saasf/">SAASF</a> par <span property="cc:attributionName">Aster Système</span> est proposé sous license <a href="https://creativecommons.org/licenses/by-sa/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer" style="display:inline-block;">CC BY-SA 4.0<img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1" alt=""><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1" alt=""><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/sa.svg?ref=chooser-v1" alt=""></a>
                </span>
            </div>
        </footer>
    </body>
</html>
